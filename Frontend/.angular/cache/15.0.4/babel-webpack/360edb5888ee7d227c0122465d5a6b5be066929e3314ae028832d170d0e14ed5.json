{"ast":null,"code":"import _asyncToGenerator from \"C:/full-stack/angular/MAEN-Stuck/test 4/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/data.service\";\nimport * as i2 from \"@angular/common\";\nfunction ListComponent_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 1);\n    i0.ɵɵlistener(\"click\", function ListComponent_tr_13_Template_td_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const t_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteTask(t_r1._id));\n    });\n    i0.ɵɵtext(11, \"\\u274E\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const t_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(t_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(t_r1.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 4, t_r1.date, \"d/M/Y \"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(t_r1.customerId);\n  }\n}\nexport class ListComponent {\n  constructor(tasksService) {\n    this.tasksService = tasksService;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        _this.tasks = yield _this.tasksService.getAllTasks();\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  }\n  deleteTask(_id) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        if (!window.confirm(\"delete???\")) return;\n        yield _this2.tasksService.deleteTask(_id);\n        _this2.tasks = _this2.tasks.filter(b => b._id !== _id);\n      } catch (error) {}\n    })();\n  }\n}\nListComponent.ɵfac = function ListComponent_Factory(t) {\n  return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n};\nListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListComponent,\n  selectors: [[\"app-list\"]],\n  decls: 14,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n  template: function ListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"table\")(2, \"thead\");\n      i0.ɵɵelement(3, \"th\");\n      i0.ɵɵelementStart(4, \"th\");\n      i0.ɵɵtext(5, \"DESCRIPTION\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"th\");\n      i0.ɵɵtext(7, \"DATE\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"th\");\n      i0.ɵɵtext(9, \"CUSTOMER\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"DELET\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"tbody\");\n      i0.ɵɵtemplate(13, ListComponent_tr_13_Template, 12, 7, \"tr\", 0);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tasks);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.DatePipe],\n  styles: [\"table[_ngcontent-%COMP%] {\\r\\n    background-color: rgb(97, 7, 100);\\r\\n    color: white;\\r\\n    margin: auto;\\r\\n    border: 2px solid rgb(255, 0, 174);\\r\\n}\\r\\n td[_ngcontent-%COMP%]{\\r\\n    padding: 20px;\\r\\n    border: 1px solid  rgb(255, 0, 174);\\r\\n }\\r\\n\\r\\n th[_ngcontent-%COMP%] {\\r\\n    border: 1px solid  rgb(255, 0, 174);\\r\\n    color: black\\r\\n }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kYXRhLWFyZWEvbGlzdC9saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQ0FBaUM7SUFDakMsWUFBWTtJQUNaLFlBQVk7SUFDWixrQ0FBa0M7QUFDdEM7Q0FDQztJQUNHLGFBQWE7SUFDYixtQ0FBbUM7Q0FDdEM7O0NBRUE7SUFDRyxtQ0FBbUM7SUFDbkM7Q0FDSCIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYig5NywgNywgMTAwKTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIG1hcmdpbjogYXV0bztcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYigyNTUsIDAsIDE3NCk7XHJcbn1cclxuIHRke1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICByZ2IoMjU1LCAwLCAxNzQpO1xyXG4gfVxyXG5cclxuIHRoIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICByZ2IoMjU1LCAwLCAxNzQpO1xyXG4gICAgY29sb3I6IGJsYWNrXHJcbiB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAWYA,0BAA4B;IACpBA,YAAU;IAAAA,iBAAK;IACnBA,0BAAI;IAAAA,YAAiB;IAAAA,iBAAK;IAC1BA,0BAAI;IAAAA,YAA2B;;IAAAA,iBAAK;IACpCA,0BAAI;IAAAA,YAAgB;IAAAA,iBAAK;IACzBA,8BAAgC;IAA5BA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAiB;IAAA,EAAC;IAACA,uBAAC;IAAAA,iBAAK;;;;IAJlCA,eAAU;IAAVA,+BAAU;IACVA,eAAiB;IAAjBA,sCAAiB;IACjBA,eAA2B;IAA3BA,+DAA2B;IAC3BA,eAAgB;IAAhBA,qCAAgB;;;ACLpC,OAAM,MAAOC,aAAa;EAIxBC,YAA4BC,YAAyB;IAAzB,iBAAY,GAAZA,YAAY;EAAe;EACjDC,QAAQ;IAAA;IAAA;MACZ,IAAI;QACF,KAAI,CAACC,KAAK,SAAS,KAAI,CAACF,YAAY,CAACG,WAAW,EAAE;OAGnD,CACD,OAAOC,GAAG,EAAE;QACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;;IAEjB;EACH;EAEaG,UAAU,CAACC,GAAU;IAAA;IAAA;MAChC,IAAI;QACF,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,WAAW,CAAC,EAAE;QAClC,MAAM,MAAI,CAACV,YAAY,CAACO,UAAU,CAACC,GAAG,CAAC;QAEvC,MAAI,CAACN,KAAK,GAAG,MAAI,CAACA,KAAK,CAACS,MAAM,CAAEC,CAAC,IAAEA,CAAC,CAACJ,GAAG,KAAKA,GAAG,CAAC;OAElD,CACD,OAAOK,KAAK,EAAE;IAEb;EACH;;AA5BWf,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV1BrB,2BAAK;MAIOA,qBAAS;MACTA,0BAAI;MAAAA,2BAAW;MAAAA,iBAAK;MACpBA,0BAAI;MAAAA,oBAAI;MAAAA,iBAAK;MACbA,0BAAI;MAAAA,wBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MAAAA,sBAAK;MAAAA,iBAAK;MAElBA,8BAAO;MACHA,+DAMK;MACTA,iBAAQ;;;MAPcA,gBAAQ;MAARA,mCAAQ","names":["i0","ListComponent","constructor","tasksService","ngOnInit","tasks","getAllTasks","err","console","log","deleteTask","_id","window","confirm","filter","b","error","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\full-stack\\angular\\MAEN-Stuck\\test 4\\Frontend\\src\\app\\components\\data-area\\list\\list.component.html","C:\\full-stack\\angular\\MAEN-Stuck\\test 4\\Frontend\\src\\app\\components\\data-area\\list\\list.component.ts"],"sourcesContent":["<div>\n    \n    <table>\n        <thead>\n            <th></th>\n            <th>DESCRIPTION</th>\n            <th>DATE</th>\n            <th>CUSTOMER</th>\n            <th>DELET</th>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let t of tasks\">\n                <td>{{t.name}}</td>\n                <td>{{t.description}}</td>\n                <td>{{t.date | date: 'd/M/Y '}}</td>\n                <td>{{t.customerId}}</td>\n                <td (click)=\"deleteTask(t._id)\">❎</td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { CustomerModel } from 'src/app/models/customers-model';\nimport { TasksModel } from 'src/app/models/tasks-model';\nimport { DataService } from 'src/app/services/data.service';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.css']\n})\nexport class ListComponent implements OnInit{\n  public tasks:TasksModel[]\n  public customer:CustomerModel[]\n  public customerId:string\n  public constructor (private tasksService: DataService){}\n  async ngOnInit(): Promise<void> {\n    try {\n      this.tasks = await this.tasksService.getAllTasks()\n     \n           \n    } \n    catch (err) {\n      console.log(err)\n      \n    }    \n  }\n\n  public async deleteTask(_id:string): Promise<void>{\n    try {\n      if (!window.confirm(\"delete???\")) return\n      await this.tasksService.deleteTask(_id)\n     \n      this.tasks = this.tasks.filter (b=>b._id !== _id)\n      \n    } \n    catch (error) {\n    \n    }\n  }\n\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}